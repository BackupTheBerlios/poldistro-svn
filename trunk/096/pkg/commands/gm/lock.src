/* $Id
 *
 */
use os;
use uo;

include "include/messages";
include "include/localization";


program command_lock(who)
	var what;

	SendMessage(who, MSG_TARGET_OBJ, array{}, MSG_COMMAND);
	if ((what := Target(who, TGTOPT_NOCHECK_LOS)) == 0)
		SendMessage(who, MSG_CANCELLED, array{}, MSG_COMMAND);
	else
		if (what.locked == 1)
			SendSysMessage(who, "Already locked.");
		else
			what.locked := 1;
		endif
	endif

	return;
endprogram