use uo;
use os;
use cfgfile;

include ":ai_brain:include/npcSettings";
include ":ai_brain:include/npcUtil";

unload_scripts("");

program CfgTest(who, template)
	if  ( !template )
		SendSysMessage(who, "Error - no NPC template name was entered.");
		return 0;
	endif
			
	ShowInfo(who, "###############");
	
	var settings := NPC_LoadTemplateSettings(template);
	settings := NPC_GetDefaultSettings(settings);
	foreach key in ( settings.keys() )
		ShowInfo(who, "settings["+key+"] == "+settings[key]);
		sleepms(10);
	endforeach
	
	ShowInfo(who, "----");
	
	var scripts := NPC_LoadScriptSettings(template);
	foreach key in ( scripts.keys() )
		ShowInfo(who, "scripts ["+key+"] == "+scripts[key]);
		sleepms(10);
	endforeach
	
	ShowInfo(who, "###############");
	
	UnloadConfigFile("::npcdesc");
	
endprogram

function ShowInfo(who, line)
	Print(""+line);
	SendSysMessage(who, ""+line, 3, 2101);
	
	return 1;
endfunction
